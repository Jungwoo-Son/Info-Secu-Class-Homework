# 오차역전파

매개변수의 기울기를 알기위해 하나의 매개변수 마다 전체의 계산을 다시 해야한다는 것은 너무나 느린 작업이다. 따라서 나온 방법이 오차역전파다.
우선 미분에 대해서 좀 더 자세히 알아야하는 데 미분이란 한순간의 기울기다. 기울기는 Δy/Δx로 나타낼 수 있는데 이것이 Δx가 0에서 극한 값이면 미분인 dx/dy가 된다.

이것이 중요한 이유는 복잡한 연산을 단순한 노드로 나눴을 때 드러난다.

ax + y = z일 때 각 연산을 하나의 노드([연산])로 나눠본다.
a [곱셈] --[덧셈] -z
x  ┘           y┘

여기서 a의 미분 계수를 오차역전파로 알아본다.
우선 마지막의 덧셈노드를 보자 앞의 연산의 값을 b라 했을 때 b + y = z다.
여기서 b의 미분 계수는 1이다. b가 바뀌면 딱 그만큼만 z값이 바뀌기 때문이다.

이후 곱셈노드를 보자 이 연산을 하고 난 후의 값을 b라 했을 때 a*x = b이다.
여기서 a에 대한 미분계수는 x다. a가 바뀌면 거기에 x를 곱한 만큼 b값이 변하기 때문이다.

이렇게 국소적으로 계산을 해봤다. 이제 전체적으로 봐야하는데 전체 ax + y = z에서 a에 대한 미분계수는 1 * x인 x다. 이는 국소적으로 계산했던 b의 미분 계수 * a의 미분계수를 곱했다.

이것이 가능한 이유는 b의 미분계수를 Δz/Δb, a의 미분계수(국소적으로 계산했던)는 Δb/Δa라 했을 때 이 둘을 곱하면 즉  Δz/Δb * Δb/Δa 자연스럽게 Δz/Δa가 나온다. 이는 우리가 구하고자 했던 전체의 a에 대한 미분계수다.

이러한 오차역전파를 활용하면 매개변수마다 전체 계산을 하던 수치미분에 비해 오차를 거꾸러 한번만 흘려주면 전체 매개변수의 기울기를 알 수 있다는 장점이 존재한다.
단 덧셈, 곱셈, 활성화함수, 레이어의 이동등 모든 연산에 대한 미분 작업을 일일히 해야한다는 단점이 존재한다.